# 🚇 지하철 혼잡도 대시보드

서울교통공사 지하철 1~8호선의 시간대별 혼잡도를 시각화하는 Streamlit 대시보드입니다.

## 📊 프로젝트 소개

이 프로젝트는 서울교통공사에서 제공하는 지하철 혼잡도 정보를 분석하고 시각화하여, 사용자가 효율적으로 지하철 이용 계획을 세울 수 있도록 돕습니다.

### 주요 기능

- ✅ **KPI 요약 카드**: 전체 통계 한눈에 보기 (총 역 수, 평균 혼잡도, 최고 혼잡역, 피크 시간대)
- 📈 **역 상세 라인차트**: 특정 역의 시간대별 혼잡도 변화 추이
- 🔥 **히트맵**: 호선 전체 역의 시간대별 혼잡도 비교
- 🏆 **Top N 랭킹**: 출퇴근 시간대 가장 혼잡한 역 순위
- 🔍 **동적 필터링**: 요일, 호선, 역, 방향별 세밀한 조회
- 🎯 **인터랙티브 차트**: 히트맵 클릭 시 해당 역 라인차트 자동 이동

## 🚀 시작하기

### 사전 요구사항

- Python 3.8 이상
- pip (Python 패키지 관리자)

### 설치 방법

```bash
# 저장소 클론
git clone https://github.com/klovelyflo-coder/multicampus-moon.git

# 프로젝트 디렉토리로 이동
cd multicampus-moon

# 의존성 설치
pip install -r requirements.txt
```

### 실행 방법

```bash
# Streamlit 앱 실행
streamlit run app.py
```

브라우저가 자동으로 열리며, `http://localhost:8501`에서 대시보드를 확인할 수 있습니다.

## 📁 프로젝트 구조

```
multicampus-moon/
├── README.md                                    # 프로젝트 소개
├── requirements.txt                             # Python 패키지 목록
├── data_preprocessing.py                        # 데이터 전처리 스크립트
├── app.py                                       # Streamlit 대시보드
├── 서울교통공사_지하철혼잡도정보_20250930.csv    # 원본 데이터
├── data/                                        # 정제된 데이터
│   ├── subway_crowding_tidy.csv
│   ├── subway_crowding_tidy.parquet
│   └── quality_report.json
└── docs/                                        # 프로젝트 문서
    └── project_requirements.md
```

## 🎯 개발 단계별 진행 상황

| Phase | 기능 | Git Tag | 상태 |
|-------|------|---------|------|
| Phase 1 | 데이터 전처리 및 정제 | `phase1-complete` | ✅ 완료 |
| Phase 2 | 역 상세 라인차트 | `phase2-complete` | ✅ 완료 |
| Phase 3 | 역-시간대 히트맵 | `phase3-complete` | ✅ 완료 |
| Phase 4 | Top N 랭킹 | `phase4-complete` | ✅ 완료 |
| Phase 5 | KPI 요약 카드 | `phase5-kpi-complete` | ✅ 완료 |

### Phase 별 주요 구현 내용

#### Phase 1: 데이터 전처리
- Wide → Long 포맷 변환
- 시간대 정규화 및 정렬
- 데이터 품질 검증 (중복, 음수, 결측치)
- CSV/Parquet 형식으로 저장

#### Phase 2: 역 상세 라인차트
- Streamlit 기반 웹 대시보드 구축
- 동적 필터링 (요일/호선/역/방향)
- Plotly를 활용한 인터랙티브 라인차트
- 출퇴근 시간대 시각적 강조

#### Phase 3: 히트맵
- 역×시간대 혼잡도 히트맵
- 다양한 정렬 옵션 (평균 혼잡도순, 가나다순, 역 코드순)
- 히트맵 셀 클릭 시 해당 역 라인차트 연동

#### Phase 4: Top N 랭킹
- 출근/퇴근 시간대별 혼잡 순위
- 상위 N개 역 조회 (슬라이더로 조정 가능)
- 랭킹 테이블 및 바 차트 시각화
- 랭킹 클릭 시 해당 역 라인차트 연동

#### Phase 5: KPI 요약 카드
- 전체 통계 요약 (총 역 수, 평균 혼잡도, 최고 혼잡역, 피크 시간대)
- 출퇴근 시간대 평균 혼잡도
- 필터 변경 시 실시간 업데이트

## 🛠️ 기술 스택

- **언어**: Python 3.8+
- **프레임워크**: Streamlit
- **데이터 처리**: Pandas, NumPy
- **시각화**: Plotly Express
- **버전 관리**: Git, GitHub

## 📝 데이터 출처

- **데이터 제공**: 서울교통공사
- **데이터명**: 지하철혼잡도정보
- **기준일**: 2025년 9월 30일
- **포함 노선**: 1~8호선

## 🔍 주요 화면

### 1. KPI 요약 카드
선택한 호선과 방향의 전체 통계를 한눈에 확인

### 2. 역 상세 라인차트
특정 역의 시간대별 혼잡도 변화를 라인차트로 표시

### 3. 히트맵
전체 역의 시간대별 혼잡도를 색상으로 비교

### 4. Top N 랭킹
출퇴근 시간대 가장 혼잡한 역 순위 및 바 차트

## 📖 사용 방법

1. **사이드바에서 필터 선택**
   - 요일구분: 평일/토요일/일요일
   - 호선: 1~8호선
   - 역: 선택한 호선의 역 목록
   - 방향: 상선/하선 또는 내선/외선

2. **KPI 카드에서 전체 통계 확인**
   - 총 역 수, 평균 혼잡도, 최고 혼잡역, 피크 시간대 확인

3. **라인차트로 시간대별 추이 분석**
   - 출퇴근 시간대가 색상으로 강조됨

4. **히트맵으로 전체 역 비교**
   - 정렬 옵션으로 원하는 순서로 정렬
   - 셀 클릭 시 해당 역 라인차트로 자동 이동

5. **Top N 랭킹으로 혼잡역 확인**
   - 출근/퇴근 시간대 선택
   - 상위 N개 역 슬라이더 조정
   - 역 클릭 시 해당 역 라인차트로 자동 이동

## 📄 라이선스

이 프로젝트는 교육 목적으로 제작되었습니다.

## 👥 개발자

Multicampus Moon 프로젝트 팀

## 📞 문의

프로젝트 관련 문의사항이 있으시면 GitHub Issues를 통해 연락주세요.

---

**프로젝트 버전**: 1.0  
**최종 업데이트**: 2025-12-16  
**개발 기간**: Phase 1~5 완료
